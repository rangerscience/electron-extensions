{"version":3,"sources":["webpack:////usr/share/hubspot/build/.hubspot/static-archive/q/static-6.18/js/q.js","webpack:///webpack/bootstrap 556effd3eec4b2073508","webpack:///./js/utils/logger.js","webpack:///./js/globals/chrome.js","webpack:///./js/utils/RemoteAssets.js","webpack:///./js/utils/loadCss.js","webpack:///./js/utils/loadJS.js","webpack:///./js/background/debugLogManager.js","webpack:///./js/init/Popup.js","webpack:///./js/utils/emptyfunction.js","webpack:///./js/config/context.js","webpack:///./js/globals/location.js","webpack:///./js/globals/document.js","webpack:///./js/globals/window.js","webpack:///./js/init/enviro.js","webpack:////usr/share/hubspot/build/.hubspot/static-archive/sales-clients-common/static-1.3151/js/utils/buildCdnUrl.js","webpack:////usr/share/hubspot/build/.hubspot/static-archive/hub-http/static-1.201/js/helpers/promise.js"],"names":["definition","global","window","self","previousQ","Q","noConflict","this","hasStacks","Error","e","stack","qFileName","qStartingLine","captureLine","nextTick","head","task","next","tail","flushing","requestTick","isNodeJS","laterQueue","flush","domain","enter","runSingle","length","pop","setTimeout","exit","process","setImmediate","bind","MessageChannel","channel","port1","onmessage","requestPortTick","port2","postMessage","runAfter","push","call","Function","uncurryThis","f","apply","arguments","array_slice","Array","prototype","slice","array_reduce","reduce","array_indexOf","indexOf","array_map","map","object_create","Object","create","object_defineProperty","defineProperty","isObject","value","STACK_JUMP_SEPARATOR","makeStackTraceLong","error","promise","stacks","p","source","__minimumStackCounter__","stackCounter","configurable","unshift","filterStackString","join","stackString","lines","split","desiredLines","i","line","isInternalFrame","isNodeFrame","stackLine","getFileNameAndLineNumber","attempt1","exec","Number","attempt2","attempt3","fileNameAndLineNumber","fileName","lineNumber","qEndingLine","resolveImpl","Promise","isPromiseAlike","coerce","fulfill","longStackSupport","longStackCounter","env","Q_DEBUG","defer","resolvedPromise","messages","deferred","promiseDispatch","resolve","op","operands","args","_inspect","state","substring","become","newPromise","undefined","message","reject","reason","resolver","TypeError","wasWarned","warn","msg","enviro","deployed","debug","console","newrelic","addPageAction","deprecationMessage","makePromiseMethod","func","name","checkIterable","promiseMethod","arg0","Symbol","iterator","isArray","race","all","answerPs","len","then","descriptor","fallback","inspect","result","exception","inspected","toString","fulfilled","rejected","done","_fulfilled","_rejected","newException","when","isPromise","object","unhandledReasons","unhandledRejections","trackUnhandledRejections","resetUnhandledRejections","trackRejection","rejectionString","customizeRejectionString","untrackRejection","at","splice","getUnhandledReasons","stopUnhandledRejectionTracking","getUnhandledRejectionValues","rejectedPromise","rejection","thisp","dispatchImpl","fcallImpl","promises","pendingCount","index","snapshot","callback","onUnhandledError","onerror","hubspot","define","installedModules","__webpack_require__","moduleId","exports","module","l","modules","m","c","d","getter","o","enumerable","get","n","__esModule","property","hasOwnProperty","s","_createClass","defineProperties","target","props","writable","key","Constructor","protoProps","staticProps","_enviro2","_interopRequireDefault","_context2","_emptyfunction","_debugLogManager","obj","default","_classCallCheck","instance","Logger","_assignMethods","log","_getLogFn","LEVELS","info","method","level","cache","_shouldLog","emptyFunction","logFn","CONSOLE_FN","_len","_key","updatedArgs","arg","_formatError","newErrorEntry","_callLogFn","_aboveLevelThreshold","sourceURL","chrome","loadPopupRemoteAssets","loadGmailRemoteAssets","_loadCss2","_buildCdnUrl2","_logger2","jsLoader","remoteCssUrl","getShort","remoteJsUrl","_q2","_document2","loadCss","url","linkEl","createElement","rel","type","onload","href","appendChild","scriptEl","document","src","body","MAX_ERRORS","windowErrors","initDebugLog","getLastErrors","init","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","err","_loadJS2","_RemoteAssets","_window2","_chrome2","requirePopupServices","extension","getBackgroundPage","require","resolvePopupServices","requirePopupInit","fn","readyState","addEventListener","onReady","async","_ref","_ref2","popupInit","_location2","EXTENSION_PROTOCOL","pathname","protocol","isBGPage","isPopup","context","location","_promise","REMOTE_ASSETS_ENV_KEY","SALES_MODAL_IFRAME_DEPLOYED_KEY","ENV_KEY","DEPLOYED_KEY","setAllEnvs","environment","remoteAssetsEnvironment","salesModalIframeDeployed","set","storage","local","getCdnBaseUrl","envShort","buildCdnUrl","path","extensionPlus","baseUrl"],"mappings":"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","file":"js/init/Popup.js","sourcesContent":["// vim:ts=4:sts=4:sw=4:\n/*!\n *\n * Copyright 2009-2017 Kris Kowal under the terms of the MIT\n * license found at https://github.com/kriskowal/q/blob/v1/LICENSE\n *\n * With parts by Tyler Close\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n * at http://www.opensource.org/licenses/mit-license.html\n * Forked at ref_send.js version: 2009-05-11\n *\n * With parts by Mark Miller\n * Copyright (C) 2011 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n(function (definition) {\n    \"use strict\";\n\n    // This file will function properly as a <script> tag, or a module\n    // using CommonJS and NodeJS or RequireJS module formats.  In\n    // Common/Node/RequireJS, the module exports the Q API and when\n    // executed as a simple <script>, it creates a Q global instead.\n\n    // Prefer window over self for add-on scripts. Use self for\n    // non-windowed contexts.\n    var global = typeof window !== \"undefined\" ? window : self;\n\n    // Get the `window` object, save the previous Q global\n    // and initialize Q as a global.\n    var previousQ = global.Q;\n    global.Q = definition();\n\n    // Add a noConflict function so Q can be removed from the\n    // global namespace.\n    global.Q.noConflict = function () {\n        global.Q = previousQ;\n        return this;\n    };\n\n})(function () {\n\"use strict\";\n\nvar hasStacks = false;\ntry {\n    throw new Error();\n} catch (e) {\n    hasStacks = !!e.stack;\n}\n\n// All code after this point will be filtered from stack traces reported\n// by Q.\nvar qStartingLine = captureLine();\nvar qFileName;\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\nvar nextTick =(function () {\n    // linked list of tasks (single, with head node)\n    var head = {task: void 0, next: null};\n    var tail = head;\n    var flushing = false;\n    var requestTick = void 0;\n    var isNodeJS = false;\n    // queue for late tasks, used by unhandled rejection tracking\n    var laterQueue = [];\n\n    function flush() {\n        /* jshint loopfunc: true */\n        var task, domain;\n\n        while (head.next) {\n            head = head.next;\n            task = head.task;\n            head.task = void 0;\n            domain = head.domain;\n\n            if (domain) {\n                head.domain = void 0;\n                domain.enter();\n            }\n            runSingle(task, domain);\n\n        }\n        while (laterQueue.length) {\n            task = laterQueue.pop();\n            runSingle(task);\n        }\n        flushing = false;\n    }\n    // runs a single function in the async queue\n    function runSingle(task, domain) {\n        try {\n            task();\n\n        } catch (e) {\n            // In browsers, uncaught exceptions are not fatal.\n            // Re-throw them asynchronously to avoid slow-downs.\n            setTimeout(function () {\n                throw e;\n            }, 0);\n        }\n\n        if (domain) {\n            domain.exit();\n        }\n    }\n\n    nextTick = function (task) {\n        tail = tail.next = {\n            task: task,\n            domain: isNodeJS && process.domain,\n            next: null\n        };\n\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n\n    if (typeof setImmediate === \"function\") {\n        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n        if (typeof window !== \"undefined\") {\n            requestTick = setImmediate.bind(window, flush);\n        } else {\n            requestTick = function () {\n                setImmediate(flush);\n            };\n        }\n\n    } else if (typeof MessageChannel !== \"undefined\") {\n        // modern browsers\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n        var channel = new MessageChannel();\n        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create\n        // working message ports the first time a page loads.\n        channel.port1.onmessage = function () {\n            requestTick = requestPortTick;\n            channel.port1.onmessage = flush;\n            flush();\n        };\n        var requestPortTick = function () {\n            // Opera requires us to provide a message payload, regardless of\n            // whether we use it.\n            channel.port2.postMessage(0);\n        };\n        requestTick = function () {\n            setTimeout(flush, 0);\n            requestPortTick();\n        };\n\n    } else {\n        // old browsers\n        requestTick = function () {\n            setTimeout(flush, 0);\n        };\n    }\n    // runs a task after all other tasks have been run\n    // this is useful for unhandled rejection tracking that needs to happen\n    // after all `then`d tasks have been run.\n    nextTick.runAfter = function (task) {\n        laterQueue.push(task);\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n    return nextTick;\n})();\n\n// Attempt to make generics safe in the face of downstream\n// modifications.\n// There is no situation where this is necessary.\n// If you need a security guarantee, these primordials need to be\n// deeply frozen anyway, and if you don’t need a security guarantee,\n// this is just plain paranoid.\n// However, this **might** have the nice side-effect of reducing the size of\n// the minified code by reducing x.call() to merely x()\n// See Mark Miller’s explanation of what this does.\n// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming\nvar call = Function.call;\nfunction uncurryThis(f) {\n    return function () {\n        return call.apply(f, arguments);\n    };\n}\n// This is equivalent, but slower:\n// uncurryThis = Function_bind.bind(Function_bind.call);\n// http://jsperf.com/uncurrythis\n\nvar array_slice = uncurryThis(Array.prototype.slice);\n\nvar array_reduce = uncurryThis(Array.prototype.reduce);\n\nvar array_indexOf = uncurryThis(Array.prototype.indexOf);\n\nvar array_map = uncurryThis(Array.prototype.map);\n\nvar object_create = Object.create;\n\nvar object_defineProperty = Object.defineProperty;\n\nfunction isObject(value) {\n    return value === Object(value);\n}\n\n// long stack traces\n\nvar STACK_JUMP_SEPARATOR = \"From previous event:\";\n\nfunction makeStackTraceLong(error, promise) {\n    // If possible, transform the error stack trace by removing Node and Q\n    // cruft, then concatenating with the stack trace of `promise`. See #57.\n    if (hasStacks &&\n        promise.stack &&\n        typeof error === \"object\" &&\n        error !== null &&\n        error.stack\n    ) {\n        var stacks = [];\n        for (var p = promise; !!p; p = p.source) {\n            if (p.stack && (!error.__minimumStackCounter__ || error.__minimumStackCounter__ > p.stackCounter)) {\n                object_defineProperty(error, \"__minimumStackCounter__\", {value: p.stackCounter, configurable: true});\n                stacks.unshift(p.stack);\n            }\n        }\n        stacks.unshift(error.stack);\n\n        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");\n        var stack = filterStackString(concatedStacks);\n        object_defineProperty(error, \"stack\", {value: stack, configurable: true});\n    }\n}\n\nfunction filterStackString(stackString) {\n    var lines = stackString.split(\"\\n\");\n    var desiredLines = [];\n    for (var i = 0; i < lines.length; ++i) {\n        var line = lines[i];\n\n        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {\n            desiredLines.push(line);\n        }\n    }\n    return desiredLines.join(\"\\n\");\n}\n\nfunction isNodeFrame(stackLine) {\n    return stackLine.indexOf(\"(module.js:\") !== -1 ||\n           stackLine.indexOf(\"(node.js:\") !== -1;\n}\n\nfunction getFileNameAndLineNumber(stackLine) {\n    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"\n    // In IE10 function name can have spaces (\"Anonymous function\") O_o\n    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);\n    if (attempt1) {\n        return [attempt1[1], Number(attempt1[2])];\n    }\n\n    // Anonymous functions: \"at filename:lineNumber:columnNumber\"\n    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);\n    if (attempt2) {\n        return [attempt2[1], Number(attempt2[2])];\n    }\n\n    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"\n    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);\n    if (attempt3) {\n        return [attempt3[1], Number(attempt3[2])];\n    }\n}\n\nfunction isInternalFrame(stackLine) {\n    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);\n\n    if (!fileNameAndLineNumber) {\n        return false;\n    }\n\n    var fileName = fileNameAndLineNumber[0];\n    var lineNumber = fileNameAndLineNumber[1];\n\n    return fileName === qFileName &&\n        lineNumber >= qStartingLine &&\n        lineNumber <= qEndingLine;\n}\n\n// discover own file name and line number range for filtering stack\n// traces\nfunction captureLine() {\n    if (!hasStacks) {\n        return;\n    }\n\n    try {\n        throw new Error();\n    } catch (e) {\n        var lines = e.stack.split(\"\\n\");\n        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];\n        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);\n        if (!fileNameAndLineNumber) {\n            return;\n        }\n\n        qFileName = fileNameAndLineNumber[0];\n        return fileNameAndLineNumber[1];\n    }\n}\n\n// end of shims\n// beginning of real work\n\n/**\n * Constructs a promise for an immediate reference, passes promises through, or\n * coerces promises from different systems.\n * @param value immediate reference or promise\n */\nfunction resolveImpl(value) {\n    // If the object is already a Promise, return it directly.  This enables\n    // the resolve function to both be used to created references from objects,\n    // but to tolerably coerce non-promises to promises.\n    if (value instanceof Promise) {\n        return value;\n    }\n\n    // assimilate thenables\n    if (isPromiseAlike(value)) {\n        return coerce(value);\n    } else {\n        return fulfill(value);\n    }\n}\n\nvar Q = {};\n\n/**\n * Controls whether or not long stack traces will be on\n */\nQ.longStackSupport = false;\n\n/**\n * The counter is used to determine the stopping point for building\n * long stack traces. In makeStackTraceLong we walk backwards through\n * the linked list of promises, only stacks which were created before\n * the rejection are concatenated.\n */\nvar longStackCounter = 1;\n\n// enable long stacks if Q_DEBUG is set\nif (typeof process === \"object\" && process && process.env && process.env.Q_DEBUG) {\n    Q.longStackSupport = true;\n}\n\n/**\n * Constructs a {promise, resolve, reject} object.\n *\n * `resolve` is a callback to invoke with a more resolved value for the\n * promise. To fulfill the promise, invoke `resolve` with any value that is\n * not a thenable. To reject the promise, invoke `resolve` with a rejected\n * thenable, or invoke `reject` with the reason directly. To resolve the\n * promise to another thenable, thus putting it in the same state, invoke\n * `resolve` with that other thenable.\n */\nfunction defer() {\n    // if \"messages\" is an \"Array\", that indicates that the promise has not yet\n    // been resolved.  If it is \"undefined\", it has been resolved.  Each\n    // element of the messages array is itself an array of complete arguments to\n    // forward to the resolved promise.  We coerce the resolution value to a\n    // promise using the `resolve` function because it handles both fully\n    // non-thenable values and other thenables gracefully.\n    var messages = [], resolvedPromise;\n\n    var deferred = object_create(defer.prototype);\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, operands) {\n        var args = array_slice(arguments);\n        if (messages) {\n            messages.push(args);\n        } else {\n            nextTick(function () {\n                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);\n            });\n        }\n    };\n\n    promise._inspect = function () {\n        if (!resolvedPromise) {\n            return { state: \"pending\" };\n        }\n        return resolvedPromise._inspect();\n    };\n\n    if (Q.longStackSupport && hasStacks) {\n        try {\n            throw new Error();\n        } catch (e) {\n            // NOTE: don't try to use `Error.captureStackTrace` or transfer the\n            // accessor around; that causes memory leaks as per GH-111. Just\n            // reify the stack trace as a string ASAP.\n            //\n            // At the same time, cut off the first line; it's always just\n            // \"[object Promise]\\n\", as per the `toString`.\n            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n            promise.stackCounter = longStackCounter++;\n        }\n    }\n\n    // NOTE: we do the checks for `resolvedPromise` in each method, instead of\n    // consolidating them into `become`, since otherwise we'd create new\n    // promises with the lines `become(whatever(value))`. See e.g. GH-252.\n\n    function become(newPromise) {\n        resolvedPromise = newPromise;\n\n        if (Q.longStackSupport && hasStacks) {\n            // Only hold a reference to the new promise if long stacks\n            // are enabled to reduce memory usage\n            promise.source = newPromise;\n        }\n\n        array_reduce(messages, function (undefined, message) {\n            nextTick(function () {\n                newPromise.promiseDispatch.apply(newPromise, message);\n            });\n        }, void 0);\n\n        messages = void 0;\n    }\n\n    deferred.promise = promise;\n    deferred.resolve = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(resolveImpl(value));\n    };\n\n    deferred.reject = function (reason) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(reject(reason));\n    };\n\n    return deferred;\n}\n\n/**\n * @param resolver {Function} a function that returns nothing and accepts\n * the resolve, reject, and notify functions for a deferred.\n * @returns a promise that may be resolved with the given resolve and reject\n * functions, or rejected by a thrown exception in resolver\n */\nQ.Promise = promise; // ES6\nfunction promise(resolver) {\n    if (!(this instanceof promise)) {\n        throw Error(\"must use `new` with `Q.Promise` constructor.\");\n    }\n\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"resolver must be a function.\");\n    }\n    var deferred = defer();\n    try {\n        resolver(deferred.resolve, deferred.reject);\n    } catch (reason) {\n        deferred.reject(reason);\n    }\n    return deferred.promise;\n}\n\nvar warn = (function() {\n  var wasWarned = {};\n  return function(msg) {\n    var args;\n    if (!wasWarned[msg]) {\n      wasWarned[msg] = true;\n      if (\n        window.enviro &&\n        ((window.enviro.deployed && !window.enviro.deployed('q')) ||\n          (window.enviro.debug && window.enviro.debug('q')))\n      ) {\n        console.error(msg);\n      }\n\n      if (window.newrelic && window.newrelic.addPageAction) {\n        window.newrelic.addPageAction('Qv6DeprecationWarning', {\n          deprecationMessage: msg,\n        });\n      }\n    }\n  };\n})();\n\nfunction makePromiseMethod(func, name, checkIterable) {\n  return function promiseMethod(arg0) {\n    if (this instanceof promiseMethod) {\n      warn('Q.Promise.' + name + ' is not a constructor');\n    } else if (this !== promise) {\n      warn('Q.Promise.' + name + ' not called on Q.Promise');\n    }\n\n    if (checkIterable) {\n      if (!(arg0 && typeof arg0[Symbol.iterator] === 'function')) {\n        warn('Q.Promise.' + name + ' called with non-iterable');\n      } else if (!Array.isArray(arg0)) {\n        warn('Q.Promise.' + name + ' called with non-array');\n      }\n    }\n\n    return func.apply(this, arguments);\n  }\n}\n\npromise.race = makePromiseMethod(race, 'race', true);\npromise.all = makePromiseMethod(all, 'all', true);\npromise.reject = makePromiseMethod(reject, 'reject');\npromise.resolve = makePromiseMethod(resolveImpl, 'resolve');\n\n/**\n * Returns a promise for the first of an array of promises to become settled.\n * @param answers {Array[Any*]} promises to race\n * @returns {Any*} the first promise to be settled\n */\nfunction race(answerPs) {\n    return new promise(function (resolve, reject) {\n        // Switch to this once we can assume at least ES5\n        // answerPs.forEach(function (answerP) {\n        //     Q(answerP).then(resolve, reject);\n        // });\n        // Use this in the meantime\n        for (var i = 0, len = answerPs.length; i < len; i++) {\n            resolveImpl(answerPs[i]).then(resolve, reject);\n        }\n    });\n}\n\n/**\n * Constructs a Promise with a promise descriptor object and optional fallback\n * function.  The descriptor contains methods like when(rejected), get(name),\n * set(name, value), post(name, args), and delete(name), which all\n * return either a value, a promise for a value, or a rejection.  The fallback\n * accepts the operation name, a resolver, and any further arguments that would\n * have been forwarded to the appropriate method above had a method been\n * provided with the proper name.  The API makes no guarantees about the nature\n * of the returned object, apart from that it is usable whereever promises are\n * bought and sold.\n */\nfunction Promise(descriptor, fallback, inspect) {\n    if (fallback === void 0) {\n        fallback = function (op) {\n            return reject(new Error(\n                \"Promise does not support operation: \" + op\n            ));\n        };\n    }\n    if (inspect === void 0) {\n        inspect = function () {\n            return {state: \"unknown\"};\n        };\n    }\n\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, args) {\n        var result;\n        try {\n            if (descriptor[op]) {\n                result = descriptor[op].apply(promise, args);\n            } else {\n                result = fallback.call(promise, op, args);\n            }\n        } catch (exception) {\n            result = reject(exception);\n        }\n        if (resolve) {\n            resolve(result);\n        }\n    };\n\n    promise._inspect = inspect;\n\n    // `exception` support\n    if (inspect) {\n        var inspected = inspect();\n        if (inspected.state === \"rejected\") {\n            promise.exception = inspected.reason;\n        }\n    }\n\n    return promise;\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.then = function (fulfilled, rejected) {\n    var self = this;\n    var deferred = defer();\n    var done = false;   // ensure the untrusted promise makes at most a\n                        // single call to one of the callbacks\n\n    function _fulfilled(value) {\n        try {\n            return typeof fulfilled === \"function\" ? fulfilled(value) : value;\n        } catch (exception) {\n            return reject(exception);\n        }\n    }\n\n    function _rejected(exception) {\n        if (typeof rejected === \"function\") {\n            makeStackTraceLong(exception, self);\n            try {\n                return rejected(exception);\n            } catch (newException) {\n                return reject(newException);\n            }\n        }\n        return reject(exception);\n    }\n\n    nextTick(function () {\n        self.promiseDispatch(function (value) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_fulfilled(value));\n        }, \"when\", [function (exception) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_rejected(exception));\n        }]);\n    });\n\n    return deferred.promise;\n};\n\nfunction when(value, fulfilled, rejected) {\n    return resolveImpl(value).then(fulfilled, rejected);\n}\n\n/**\n * @returns whether the given object is a promise.\n * Otherwise it is a fulfilled value.\n */\nfunction isPromise(object) {\n    return object instanceof Promise;\n}\n\nfunction isPromiseAlike(object) {\n    return isObject(object) && typeof object.then === \"function\";\n}\n\n//// BEGIN UNHANDLED REJECTION TRACKING\n\n// This promise library consumes exceptions thrown in handlers so they can be\n// handled by a subsequent promise.  The exceptions get added to this array when\n// they are created, and removed when they are handled.  Note that in ES6 or\n// shimmed environments, this would naturally be a `Set`.\nvar unhandledReasons = [];\nvar unhandledRejections = [];\nvar trackUnhandledRejections = true;\n\nfunction resetUnhandledRejections() {\n    unhandledReasons.length = 0;\n    unhandledRejections.length = 0;\n\n    if (!trackUnhandledRejections) {\n        trackUnhandledRejections = true;\n    }\n}\n// CUSTOM HUBSPOT HACK\n\nfunction trackRejection(promise, reason) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    unhandledRejections.push(promise);\n    var rejectionString = reason + \"\";\n\n    // Public hook to allow for custom tweaking of unhandled rejection string (note, stack\n    // will be appended afterwards by code below)\n    if (Q.customizeRejectionString) {\n        rejectionString = Q.customizeRejectionString(reason);\n    }\n\n    if (reason && typeof reason.stack !== \"undefined\") {\n        // If the error's stack string already includes the error type and message, don't double it up\n        // (since only a few browsers do that, e.g. Chrome vs Firefox). Otherwise, manually append\n        // the error type and message to the stack string\n        if (reason.stack.slice && reason.stack.slice(0, rejectionString.length) === rejectionString) {\n            unhandledReasons.push(reason.stack);\n        } else {\n            unhandledReasons.push(rejectionString + \"\\n\" + reason.stack);\n        }\n    } else {\n        unhandledReasons.push(\"(no stack) \" + rejectionString);\n    }\n}\n\n// END CUSTOM HUBSPOT HACK\n\nfunction untrackRejection(promise) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    var at = array_indexOf(unhandledRejections, promise);\n    if (at !== -1) {\n        unhandledRejections.splice(at, 1);\n        unhandledReasons.splice(at, 1);\n    }\n}\n\nQ.resetUnhandledRejections = resetUnhandledRejections;\n\nQ.getUnhandledReasons = function () {\n    // Make a copy so that consumers can't interfere with our internal state.\n    return unhandledReasons.slice();\n};\n\nQ.stopUnhandledRejectionTracking = function () {\n    resetUnhandledRejections();\n    trackUnhandledRejections = false;\n};\n\n// CUSTOM HUBSPOT HACK\n// Give access to the actual unhandled rejection values\nQ.getUnhandledRejectionValues = function () {\n    return array_map(unhandledRejections, function(rejectedPromise) {\n      return rejectedPromise.exception;\n    });\n};\n// END CUSTOM HUBSPOT HACK\n\nresetUnhandledRejections();\n\n//// END UNHANDLED REJECTION TRACKING\n\n/**\n * Constructs a rejected promise.\n * @param reason value describing the failure\n */\nfunction reject(reason) {\n    var rejection = Promise({\n        \"when\": function (rejected) {\n            // note that the error has been handled\n            if (rejected) {\n                untrackRejection(this);\n            }\n            return rejected ? rejected(reason) : this;\n        }\n    }, function fallback() {\n        return this;\n    }, function inspect() {\n        return { state: \"rejected\", reason: reason };\n    });\n\n    // Note that the reason has not been handled.\n    trackRejection(rejection, reason);\n\n    return rejection;\n}\n\nfunction fulfill(value) {\n    return Promise({\n        \"when\": function () {\n            return value;\n        },\n        \"apply\": function (thisp, args) {\n            return value.apply(thisp, args);\n        },\n    }, void 0, function inspect() {\n        return { state: \"fulfilled\", value: value };\n    });\n}\n\n/**\n * Converts thenables to Q promises.\n * @param promise thenable promise\n * @returns a Q promise\n */\nfunction coerce(promise) {\n    var deferred = defer();\n    nextTick(function () {\n        try {\n            promise.then(deferred.resolve, deferred.reject);\n        } catch (exception) {\n            deferred.reject(exception);\n        }\n    });\n    return deferred.promise;\n}\n\nfunction dispatchImpl(promise, op, args) {\n    var deferred = defer();\n    nextTick(function () {\n      promise.promiseDispatch(deferred.resolve, op, args);\n    });\n    return deferred.promise;\n}\n\n/**\n * Calls the promised function in a future turn.\n * @param promise    promise or immediate reference for target function\n * @param ...args    array of application arguments\n */\nfunction fcallImpl(promise) {\n    return dispatchImpl(promise, \"apply\", [void 0, array_slice(arguments, 1)]);\n};\n\n/**\n * Turns an array of promises into a promise for an array.  If any of\n * the promises gets rejected, the whole array is rejected immediately.\n * @param {Array*} an array (or promise for an array) of values (or\n * promises for values)\n * @returns a promise for an array of the corresponding values\n */\n// By Mark Miller\n// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled\nfunction all(promises) {\n    return when(promises, function (promises) {\n        var pendingCount = 0;\n        var deferred = defer();\n        array_reduce(promises, function (undefined, promise, index) {\n            var snapshot;\n            if (\n                isPromise(promise) &&\n                (snapshot = promise._inspect()).state === \"fulfilled\"\n            ) {\n                promises[index] = snapshot.value;\n            } else {\n                ++pendingCount;\n                when(\n                    promise,\n                    function (value) {\n                        promises[index] = value;\n                        if (--pendingCount === 0) {\n                            deferred.resolve(promises);\n                        }\n                    },\n                    deferred.reject\n                );\n            }\n        }, void 0);\n        if (pendingCount === 0) {\n            deferred.resolve(promises);\n        }\n        return deferred.promise;\n    });\n}\n\n/**\n * Captures the failure of a promise, giving an oportunity to recover\n * with a callback.  If the given promise is fulfilled, the returned\n * promise is fulfilled.\n * @param {Any*} promise for something\n * @param {Function} callback to fulfill the returned promise if the\n * given promise is rejected\n * @returns a promise for the return value of the callback\n */\nPromise.prototype[\"catch\"] = function (rejected) {\n    return this.then(void 0, rejected);\n};\n\n/**\n * Provides an opportunity to observe the settling of a promise,\n * regardless of whether the promise is fulfilled or rejected.  Forwards\n * the resolution to the returned promise when the callback is done.\n * The callback can return a promise to defer completion.\n * @param {Any*} promise\n * @param {Function} callback to observe the resolution of the given\n * promise, takes no arguments.\n * @returns a promise for the resolution of the given promise when\n * ``fin`` is done.\n */\nPromise.prototype[\"finally\"] = function (callback) {\n    if (!callback || typeof callback.apply !== \"function\") {\n        throw new Error(\"Q can't apply finally callback\");\n    }\n    callback = resolveImpl(callback);\n    return this.then(function (value) {\n        return fcallImpl(callback).then(function () {\n            return value;\n        });\n    }, function (reason) {\n        // TODO attempt to recycle the rejection with \"this\".\n        return fcallImpl(callback).then(function () {\n            throw reason;\n        });\n    });\n};\n\n/**\n * Terminates a chain of promises, forcing rejections to be\n * thrown as exceptions.\n * @param {Any*} promise at the end of a chain of promises\n * @returns nothing\n */\nPromise.prototype.done = function (fulfilled, rejected) {\n    var onUnhandledError = function (error) {\n        // forward to a future turn so that ``when``\n        // does not catch it and turn it into a rejection.\n        nextTick(function () {\n            makeStackTraceLong(error, promise);\n            if (Q.onerror) {\n                Q.onerror(error);\n            } else {\n                throw error;\n            }\n        });\n    };\n\n    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.\n    var promise = fulfilled || rejected ?\n        this.then(fulfilled, rejected) :\n        this;\n\n    promise.then(void 0, onUnhandledError);\n};\n\n// All code before this point will be filtered from stack traces.\nvar qEndingLine = captureLine();\n\nreturn Q;\n\n});\n\n\n//  Defer's our gently customized version of Q (based on v1.5.0), please see\n//  the README.mdown for more info.\n\n\n\nif (typeof hubspot !== \"undefined\" && hubspot.define && typeof window !== \"undefined\") {\n  hubspot.define('q', [], function() { return window.Q; })\n  hubspot.define('Q', [], function() {\n    if (\n      window.enviro &&\n      ((window.enviro.deployed && !window.enviro.deployed(\"q\")) ||\n        (window.enviro.debug && window.enviro.debug(\"q\")))\n    ) {\n      console.warn('[q] Importing from \"Q\" is deprecated. Please use \"q\".');\n    }\n    return window.Q;\n  });\n}\n\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /usr/share/hubspot/build/.hubspot/static-archive/q/static-6.18/js/q.js?legacy-module\n// module id = 65\n// module chunks = "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"//static.hsappstatic.net/SignalsExtension/static-2.297/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 152);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 556effd3eec4b2073508","'use strict';\n'use es6';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _enviro = require('enviro');\n\nvar _enviro2 = _interopRequireDefault(_enviro);\n\nvar _context = require('SignalsExtension/config/context');\n\nvar _context2 = _interopRequireDefault(_context);\n\nvar _emptyfunction = require('SignalsExtension/utils/emptyfunction');\n\nvar _debugLogManager = require('SignalsExtension/background/debugLogManager');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Logger = function () {\n  function Logger() {\n    _classCallCheck(this, Logger);\n\n    this._assignMethods();\n  }\n\n  _createClass(Logger, [{\n    key: '_assignMethods',\n    value: function _assignMethods() {\n      this.log = this._getLogFn('log', Logger.LEVELS.log);\n      this.debug = this._getLogFn('debug', Logger.LEVELS.debug);\n      this.info = this._getLogFn('info', Logger.LEVELS.info);\n      this.warn = this._getLogFn('warn', Logger.LEVELS.warn);\n      // Only cache errors for now.\n      this.error = this._getLogFn('error', Logger.LEVELS.error, true);\n    }\n  }, {\n    key: '_getLogFn',\n    value: function _getLogFn(method, level) {\n      var cache = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (!this._shouldLog(method, level)) {\n        return _emptyfunction.emptyFunction;\n      }\n\n      var logFn = Logger.CONSOLE_FN[method] || Logger.CONSOLE_FN.log || _emptyfunction.emptyFunction;\n\n      return function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        var updatedArgs = new Array(args.length + 1);\n\n        updatedArgs[0] = '[HubSpot Sales]';\n\n        for (var i = 0; i < args.length; i++) {\n          var arg = args[i];\n          updatedArgs[i + 1] = this._formatError(arg);\n        }\n\n        // Cache first arg from the error for now. Revise as needed.\n        if (cache && updatedArgs.length > 1) {\n          (0, _debugLogManager.newErrorEntry)(updatedArgs[1]);\n        }\n\n        return this._callLogFn(logFn, updatedArgs);\n      }.bind(this);\n    }\n  }, {\n    key: '_callLogFn',\n    value: function _callLogFn(logFn, args) {\n      return logFn.apply(Logger.CONSOLE_FN, args);\n    }\n  }, {\n    key: '_shouldLog',\n    value: function _shouldLog(method, level) {\n      if (_context2.default === 'background') {\n        return true;\n      }\n\n      return this._aboveLevelThreshold(level);\n    }\n  }, {\n    key: '_aboveLevelThreshold',\n    value: function _aboveLevelThreshold(level) {\n      if (_enviro2.default.deployed('console')) {\n        return level >= Logger.LEVELS.error;\n      } else {\n        return level >= Logger.LEVELS.log;\n      }\n    }\n  }, {\n    key: '_formatError',\n    value: function _formatError(arg) {\n      if (!(arg instanceof Error)) {\n        return arg;\n      }\n\n      if (arg.stack) {\n        if (arg.message && arg.stack.indexOf(arg.message) === -1) {\n          return 'Error: ' + arg.message + '\\n' + arg.stack;\n        } else {\n          return arg.stack;\n        }\n      } else if (arg.sourceURL) {\n        return arg.message + '\\n' + arg.sourceURL + ':' + arg.line;\n      } else {\n        return arg;\n      }\n    }\n  }]);\n\n  return Logger;\n}();\n\nLogger.LEVELS = {\n  log: 0,\n  debug: 1,\n  info: 2,\n  warn: 3,\n  error: 4\n};\nLogger.CONSOLE_FN = window.console || {};\nexports.default = new Logger();\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/utils/logger.js\n// module id = 0\n// module chunks = 0 1 3 4","'use strict';\n'use es6';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = chrome;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/globals/chrome.js\n// module id = 1\n// module chunks = 0 1 3 4","'use strict';\n'use es6';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loadPopupRemoteAssets = exports.loadGmailRemoteAssets = undefined;\n\nvar _enviro = require('enviro');\n\nvar _enviro2 = _interopRequireDefault(_enviro);\n\nvar _loadCss = require('SignalsExtension/utils/loadCss');\n\nvar _loadCss2 = _interopRequireDefault(_loadCss);\n\nvar _buildCdnUrl = require('sales-clients-common/utils/buildCdnUrl');\n\nvar _buildCdnUrl2 = _interopRequireDefault(_buildCdnUrl);\n\nvar _logger = require('SignalsExtension/utils/logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// To set it up for local developement and testing try:\n// chrome.storage.local.set({REMOTE_ASSETS_ENV: 'local'})\n\nvar loadGmailRemoteAssets = exports.loadGmailRemoteAssets = function loadGmailRemoteAssets(jsLoader) {\n  _logger2.default.debug('Loading remote Gmail assets');\n  var remoteCssUrl = (0, _buildCdnUrl2.default)(_enviro2.default.getShort('REMOTE_ASSETS'), '/SalesExtensionRemoteAssets/ex/gmail', '.css');\n  var remoteJsUrl = (0, _buildCdnUrl2.default)(_enviro2.default.getShort('REMOTE_ASSETS'), '/SalesExtensionRemoteAssets/ex/gmail', '.js');\n  (0, _loadCss2.default)(remoteCssUrl);\n  return jsLoader(remoteJsUrl);\n};\n\nvar loadPopupRemoteAssets = exports.loadPopupRemoteAssets = function loadPopupRemoteAssets(jsLoader) {\n  _logger2.default.debug('Loading remote Inbox assets');\n  var remoteCssUrl = (0, _buildCdnUrl2.default)(_enviro2.default.getShort('REMOTE_ASSETS'), '/SalesExtensionRemoteAssets/ex/popup', '.css');\n  var remoteJsUrl = (0, _buildCdnUrl2.default)(_enviro2.default.getShort('REMOTE_ASSETS'), '/SalesExtensionRemoteAssets/ex/popup', '.js');\n  (0, _loadCss2.default)(remoteCssUrl);\n  return jsLoader(remoteJsUrl);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/utils/RemoteAssets.js\n// module id = 104\n// module chunks = 3 4","'use strict';\n'use es6';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _q = require('q');\n\nvar _q2 = _interopRequireDefault(_q);\n\nvar _document = require('SignalsExtension/globals/document');\n\nvar _document2 = _interopRequireDefault(_document);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar loadCss = function loadCss(url) {\n  return new _q2.default.Promise(function (resolve, reject) {\n    var linkEl = _document2.default.createElement('link');\n    linkEl.rel = 'stylesheet';\n    linkEl.type = 'text/css';\n    linkEl.onload = function () {\n      return resolve();\n    };\n    linkEl.onerror = function () {\n      return reject();\n    };\n    linkEl.href = url;\n    _document2.default.head.appendChild(linkEl);\n  });\n};\n\nexports.default = loadCss;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/utils/loadCss.js\n// module id = 105\n// module chunks = 3 4","'use strict';\n/* global document */\n'use es6';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _q = require('q');\n\nvar _q2 = _interopRequireDefault(_q);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Loads remote js file. You should use inboxsdk instead\n * if possible, but in the background page that isn't available,\n * and isn't allowed because it uses eval.\n */\nexports.default = function (url) {\n  return new _q2.default.Promise(function (resolve, reject) {\n    var scriptEl = document.createElement('script');\n    scriptEl.src = url;\n    document.body.appendChild(scriptEl);\n    scriptEl.onload = function () {\n      return resolve();\n    };\n    scriptEl.onerror = function () {\n      return reject();\n    };\n  });\n};\n\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/utils/loadJS.js\n// module id = 106\n// module chunks = 3 4","'use strict';\n'use es6';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar MAX_ERRORS = 20;\n\nvar windowErrors = [];\n\nvar newErrorEntry = exports.newErrorEntry = function newErrorEntry(error) {\n  windowErrors = windowErrors.slice(1, MAX_ERRORS);\n  windowErrors.push(error);\n};\n\nvar initDebugLog = exports.initDebugLog = function initDebugLog() {\n  window.onerror = function (error, url, line) {\n    newErrorEntry(error + ' - ' + url + ' (' + line + ')');\n  };\n};\n\nvar getLastErrors = exports.getLastErrors = function getLastErrors() {\n  return windowErrors;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/background/debugLogManager.js\n// module id = 14\n// module chunks = 0 1 3 4","'use strict';\n'use es6';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _q = require('q');\n\nvar _q2 = _interopRequireDefault(_q);\n\nvar _loadJS = require('SignalsExtension/utils/loadJS');\n\nvar _loadJS2 = _interopRequireDefault(_loadJS);\n\nvar _RemoteAssets = require('SignalsExtension/utils/RemoteAssets');\n\nvar _window = require('SignalsExtension/globals/window');\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _chrome = require('SignalsExtension/globals/chrome');\n\nvar _chrome2 = _interopRequireDefault(_chrome);\n\nvar _document = require('SignalsExtension/globals/document');\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _enviro = require('./enviro');\n\nvar _enviro2 = _interopRequireDefault(_enviro);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar requirePopupServices = function requirePopupServices() {\n  return new _q2.default.Promise(function (resolve) {\n    var bg = _chrome2.default.extension.getBackgroundPage();\n    // Get deps from background page\n    bg.hubspot.require(['SignalsExtension/data/resolvePopupServices'], function (resolvePopupServices) {\n      return resolve(resolvePopupServices());\n    });\n  });\n};\n\nvar requirePopupInit = function requirePopupInit() {\n  return new _q2.default.Promise(function (resolve) {\n    return _window2.default.hubspot.require(['SalesExtensionRemoteAssets/popup/init'], resolve);\n  });\n};\n\nvar init = exports.init = async function init() {\n  await _enviro2.default.init();\n  (0, _RemoteAssets.loadPopupRemoteAssets)(_loadJS2.default).then(function () {\n    _q2.default.Promise.all([requirePopupInit(), requirePopupServices()]).then(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          popupInit = _ref2[0],\n          popupServices = _ref2[1];\n\n      return popupInit(popupServices);\n    });\n  }).done();\n};\n\nvar onReady = function onReady(fn) {\n  if (_document2.default.readyState === 'complete') {\n    fn();\n  } else {\n    _document2.default.addEventListener('DOMContentLoaded', fn);\n  }\n};\n\nonReady(init);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/init/Popup.js\n// module id = 152\n// module chunks = 4","'use strict';\n'use es6';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar emptyFunction = exports.emptyFunction = function emptyFunction() {\n  return;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/utils/emptyfunction.js\n// module id = 25\n// module chunks = 0 1 3 4","'use strict';\n'use es6';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _enviro = require('enviro');\n\nvar _enviro2 = _interopRequireDefault(_enviro);\n\nvar _q = require('q');\n\nvar _q2 = _interopRequireDefault(_q);\n\nvar _location = require('SignalsExtension/globals/location');\n\nvar _location2 = _interopRequireDefault(_location);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nif (!_enviro2.default.deployed('q')) {\n  _q2.default.longStackSupport = true;\n}\n\nvar EXTENSION_PROTOCOL = 'chrome-extension:';\n\nvar pathname = _location2.default.pathname,\n    protocol = _location2.default.protocol;\n\n\nvar isBGPage = protocol === EXTENSION_PROTOCOL && pathname.indexOf('background.html') !== -1;\n\nvar isPopup = protocol === EXTENSION_PROTOCOL && pathname.indexOf('popup.html') !== -1;\n\nvar context = null;\n\nif (isBGPage) {\n  context = 'background';\n} else if (isPopup) {\n  context = 'popup';\n} else {\n  context = 'content_script';\n}\n\nexports.default = context;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/config/context.js\n// module id = 27\n// module chunks = 0 1 3 4","'use strict';\n'use es6';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = window.location;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/globals/location.js\n// module id = 28\n// module chunks = 0 1 3 4","'use strict';\n'use es6';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = document;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/globals/document.js\n// module id = 37\n// module chunks = 0 3 4","'use strict';\n'use es6';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = window;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/globals/window.js\n// module id = 38\n// module chunks = 0 3 4","'use strict';\n'use es6';\n\n/* global BUILD_ENVIRONMENT, IS_DEPLOYED, SERA_ENVIRONMENT, SALES_MODAL_IFRAME_DEPLOYED */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _enviro = require('enviro');\n\nvar _enviro2 = _interopRequireDefault(_enviro);\n\nvar _logger = require('SignalsExtension/utils/logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _chrome = require('SignalsExtension/globals/chrome');\n\nvar _chrome2 = _interopRequireDefault(_chrome);\n\nvar _promise = require('hub-http/helpers/promise');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar REMOTE_ASSETS_ENV_KEY = 'REMOTE_ASSETS_ENV';\nvar SALES_MODAL_IFRAME_DEPLOYED_KEY = 'SALES_MODAL_IFRAME_DEPLOYED';\nvar ENV_KEY = 'ENV';\nvar DEPLOYED_KEY = 'DEPLOYED';\n\nvar setAllEnvs = function setAllEnvs(environment, _ref) {\n  var remoteAssetsEnvironment = _ref.remoteAssetsEnvironment,\n      salesModalIframeDeployed = _ref.salesModalIframeDeployed;\n\n  _enviro2.default.set(environment);\n  _enviro2.default.set(REMOTE_ASSETS_ENV_KEY, remoteAssetsEnvironment);\n  _enviro2.default.set(SALES_MODAL_IFRAME_DEPLOYED_KEY, salesModalIframeDeployed);\n  _enviro2.default.set(DEPLOYED_KEY, IS_DEPLOYED === 'true');\n};\n\n/* This function pulls the environments for ENV and REMOTE_ASSETS_ENV from the build script. \n   However, if the corresponding key is set in chrome.storage.local, that will override\n   whatever was set in the build script. If anything fails with getting chrome.storage.local,\n   we default to whatever the build script originally set.\n*/\nvar init = function init() {\n  return new _promise.Promise(function (resolve) {\n    var environment = BUILD_ENVIRONMENT;\n    var remoteAssetsEnvironment = SERA_ENVIRONMENT;\n    var salesModalIframeDeployed = SALES_MODAL_IFRAME_DEPLOYED;\n\n    try {\n      _chrome2.default.storage.local.get([ENV_KEY, REMOTE_ASSETS_ENV_KEY, SALES_MODAL_IFRAME_DEPLOYED_KEY], function (result) {\n        if (result[ENV_KEY]) {\n          environment = result[ENV_KEY];\n        }\n        if (result[REMOTE_ASSETS_ENV_KEY]) {\n          remoteAssetsEnvironment = result[REMOTE_ASSETS_ENV_KEY];\n        }\n        if (result[SALES_MODAL_IFRAME_DEPLOYED_KEY]) {\n          salesModalIframeDeployed = result[SALES_MODAL_IFRAME_DEPLOYED_KEY];\n        }\n        setAllEnvs(environment, {\n          remoteAssetsEnvironment: remoteAssetsEnvironment,\n          salesModalIframeDeployed: salesModalIframeDeployed\n        });\n        resolve();\n      });\n    } catch (err) {\n      _logger2.default.error('Error fetching from chrome.storage.local: ', err);\n      setAllEnvs(environment, remoteAssetsEnvironment);\n      resolve();\n    }\n  });\n};\n\nexports.default = { init: init };\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/init/enviro.js\n// module id = 53\n// module chunks = 0 3 4","'use strict';\n'use es6';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar getCdnBaseUrl = function getCdnBaseUrl(envShort) {\n  if (envShort === 'local') {\n    return 'https://local.hsappstatic.net';\n  }\n  return 'https://static.hsappstatic.net';\n};\n\n/*\n * For static files on the CDN, QA and prod \"versions\" use the same\n * domain. So when you deploy to QA each filename has `-qa` appended\n * before the file extension.\n */\nvar buildCdnUrl = function buildCdnUrl(envShort, path) {\n  var extensionPlus = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n\n  var baseUrl = getCdnBaseUrl(envShort);\n\n  if (envShort === 'qa') {\n    return '' + baseUrl + path + '-qa' + extensionPlus;\n  }\n\n  return '' + baseUrl + path + extensionPlus;\n};\n\nexports.default = buildCdnUrl;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// /usr/share/hubspot/build/.hubspot/static-archive/sales-clients-common/static-1.3151/js/utils/buildCdnUrl.js\n// module id = 63\n// module chunks = 3 4","'use strict';\n'use es6';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Promise = window.Promise;\n\nwindow.hubspot.require(['q'], function (Q) {\n  exports.Promise = Promise = Q.Promise;\n});\n\nexports.Promise = Promise;\n\n\n//////////////////\n// WEBPACK FOOTER\n// /usr/share/hubspot/build/.hubspot/static-archive/hub-http/static-1.201/js/helpers/promise.js\n// module id = 8\n// module chunks = 0 1 3 4"],"sourceRoot":""}